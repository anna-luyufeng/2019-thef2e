(function(e){function n(n){for(var r,o,c=n[0],i=n[1],d=n[2],f=0,s=[];f<c.length;f++)o=c[f],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&s.push(a[o][0]),a[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);l&&l(n);while(s.length)s.shift()();return u.push.apply(u,d||[]),t()}function t(){for(var e,n=0;n<u.length;n++){for(var t=u[n],r=!0,o=1;o<t.length;o++){var c=t[o];0!==a[c]&&(r=!1)}r&&(u.splice(n--,1),e=i(i.s=t[0]))}return e}var r={},o={app:0},a={app:0},u=[];function c(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-1edb1e92":"2ef98c74","chunk-1fb90862":"b9479fb0","chunk-2df4a358":"99d7aed6","chunk-58911c73":"fca802d0","chunk-6fd117a8":"be726dea","chunk-fb3b2d64":"f14ccdb1","chunk-23e3ce70":"4e5ea9e3","chunk-6e005dd4":"052e5ce1","chunk-df038b92":"8d7cbf6b"}[e]+".js"}function i(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.e=function(e){var n=[],t={"chunk-1edb1e92":1,"chunk-1fb90862":1,"chunk-2df4a358":1,"chunk-58911c73":1,"chunk-6fd117a8":1,"chunk-fb3b2d64":1,"chunk-23e3ce70":1,"chunk-6e005dd4":1,"chunk-df038b92":1};o[e]?n.push(o[e]):0!==o[e]&&t[e]&&n.push(o[e]=new Promise(function(n,t){for(var r="css/"+({}[e]||e)+"."+{"chunk-1edb1e92":"a4db8bb1","chunk-1fb90862":"2533e126","chunk-2df4a358":"627bee02","chunk-58911c73":"e118382f","chunk-6fd117a8":"4924aeab","chunk-fb3b2d64":"627bee02","chunk-23e3ce70":"fd1e436d","chunk-6e005dd4":"b2a51e76","chunk-df038b92":"180650e4"}[e]+".css",a=i.p+r,u=document.getElementsByTagName("link"),c=0;c<u.length;c++){var d=u[c],f=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(f===r||f===a))return n()}var s=document.getElementsByTagName("style");for(c=0;c<s.length;c++){d=s[c],f=d.getAttribute("data-href");if(f===r||f===a)return n()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=n,l.onerror=function(n){var r=n&&n.target&&n.target.src||a,u=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");u.code="CSS_CHUNK_LOAD_FAILED",u.request=r,delete o[e],l.parentNode.removeChild(l),t(u)},l.href=a;var h=document.getElementsByTagName("head")[0];h.appendChild(l)}).then(function(){o[e]=0}));var r=a[e];if(0!==r)if(r)n.push(r[2]);else{var u=new Promise(function(n,t){r=a[e]=[n,t]});n.push(r[2]=u);var d,f=document.createElement("script");f.charset="utf-8",f.timeout=120,i.nc&&f.setAttribute("nonce",i.nc),f.src=c(e);var s=new Error;d=function(n){f.onerror=f.onload=null,clearTimeout(l);var t=a[e];if(0!==t){if(t){var r=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",s.name="ChunkLoadError",s.type=r,s.request=o,t[1](s)}a[e]=void 0}};var l=setTimeout(function(){d({type:"timeout",target:f})},12e4);f.onerror=f.onload=d,document.head.appendChild(f)}return Promise.all(n)},i.m=e,i.c=r,i.d=function(e,n,t){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)i.d(t,r,function(n){return e[n]}.bind(null,r));return t},i.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="/2019-thef2e/week7/",i.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],f=d.push.bind(d);d.push=n,d=d.slice();for(var s=0;s<d.length;s++)n(d[s]);var l=f;u.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"50e9":function(e,n,t){"use strict";t.r(n);var r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div")},o=[],a={},u=a,c=t("2877"),i=Object(c["a"])(u,r,o,!1,null,null,null);n["default"]=i.exports},"56d7":function(e,n,t){"use strict";t.r(n);t("cadf"),t("551c"),t("f751"),t("097d");var r=t("2b0e"),o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},a=[],u=(t("5c0b"),t("2877")),c={},i=Object(u["a"])(c,o,a,!1,null,null,null),d=i.exports,f=(t("7f7f"),t("8c4f")),s=(t("ac6a"),t("456d"),t("768b")),l=(t("96cf"),t("3b8d")),h=t("2f62"),m=t("dc59");r["a"].use(h["a"]);var p=new h["a"].Store({state:{currentUser:b("auth.currentUser")},mutations:{SET_CURRENT_USER:function(e,n){e.currentUser=n,g("auth.currentUser",n)}},getters:{loggedIn:function(e){return!!e.currentUser}},actions:{logIn:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(n,t){var r,o,a,u,c,i,d;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=n.commit,e.next=3,m["a"].ref("users").orderByChild("nickname").equalTo(t).once("value").then(function(e){return e.val()});case 3:if(o=e.sent,!o){e.next=10;break}return a=Object.keys(o),u=Object(s["a"])(a,1),c=u[0],r("SET_CURRENT_USER",o[c]),e.abrupt("return",Promise.resolve());case 10:return i=m["a"].ref("users").push().key,d={id:i,nickname:t,allowSendMessage:!1},e.abrupt("return",m["a"].ref("users").child(i).set(d).then(function(){r("SET_CURRENT_USER",d)}));case 13:case"end":return e.stop()}},e)}));function n(n,t){return e.apply(this,arguments)}return n}(),logOut:function(e){var n=e.commit;n("SET_CURRENT_USER",null)}}});function b(e){return JSON.parse(window.localStorage.getItem(e))}function g(e,n){window.localStorage.setItem(e,JSON.stringify(n))}r["a"].use(f["a"]);var k=new f["a"]({mode:"history",base:"/2019-thef2e/week7/",routes:[{path:"/",name:"Home",component:function(){return y(Promise.all([t.e("chunk-1edb1e92"),t.e("chunk-2df4a358")]).then(t.bind(null,"6511")))}},{path:"/login",name:"Login",component:function(){return y(Promise.all([t.e("chunk-1edb1e92"),t.e("chunk-58911c73")]).then(t.bind(null,"dd7b")))}},{path:"/logout",name:"Logout",beforeEnter:function(e,n,t){p.dispatch("logOut"),t({name:"Login"})}},{path:"/setting",name:"Setting",component:function(){return y(Promise.all([t.e("chunk-1edb1e92"),t.e("chunk-fb3b2d64"),t.e("chunk-23e3ce70")]).then(t.bind(null,"79d9")))}},{path:"/rooms",name:"RoomList",component:function(){return y(Promise.all([t.e("chunk-1edb1e92"),t.e("chunk-6fd117a8")]).then(t.bind(null,"1fd2")))}},{path:"/room/:roomId?",name:"RoomChat",component:function(){return y(Promise.all([t.e("chunk-1edb1e92"),t.e("chunk-fb3b2d64"),t.e("chunk-6e005dd4")]).then(t.bind(null,"f539")))},beforeEnter:function(e,n,t){m["a"].ref("rooms/".concat(e.params.roomId)).once("value").then(function(n){e.params.roomName=n.val().name,t()})},props:function(e){return{roomName:e.params.roomName}}},{path:"/add-room",name:"AddRoom",component:function(){return y(Promise.all([t.e("chunk-1edb1e92"),t.e("chunk-fb3b2d64"),t.e("chunk-df038b92")]).then(t.bind(null,"bd91")))}},{path:"/users",name:"UserList",component:function(){return y(Promise.all([t.e("chunk-1edb1e92"),t.e("chunk-1fb90862")]).then(t.bind(null,"4c7a")))}}]});k.beforeEach(function(e,n,t){if(p.getters.loggedIn)return t();"Login"===e.name?t():t({name:"Login"})});var v=k;function y(e){var n=function(){return{component:e,loading:t("aa0f").default,delay:600,error:t("50e9").default,timeout:1e4}};return Promise.resolve({functional:!0,render:function(e,t){var r=t.data,o=t.children;return e(n,r,o)}})}r["a"].config.productionTip=!1,new r["a"]({router:v,store:p,created:function(){this.updateFrame()},methods:{updateFrame:function(){var e=window.innerHeight,n=window.innerWidth,t=820,r=370,o=e>=t&&n>=r?"showFrame":"noFrame";"showFrame"===o&&(document.body.style.background="#333333",document.body.classList.add("show-frame"),document.querySelector("#frame").style.height="".concat(t,"px"),document.querySelector("#frame").style.width="".concat(r,"px"))}},render:function(e){return e(d)}}).$mount("#app")},"5c0b":function(e,n,t){"use strict";var r=t("e332"),o=t.n(r);o.a},aa0f:function(e,n,t){"use strict";t.r(n);var r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div")},o=[],a={},u=a,c=t("2877"),i=Object(c["a"])(u,r,o,!1,null,null,null);n["default"]=i.exports},dc59:function(e,n,t){"use strict";var r=t("59ca"),o=(t("ea7b"),t("66ce"),{apiKey:"AIzaSyAIyzhKjkLZeYaTW2TOJdDhnlRAXAghaZg",authDomain:"the-f2e-chat-room.firebaseapp.com",databaseURL:"https://the-f2e-chat-room.firebaseio.com",projectId:"the-f2e-chat-room",storageBucket:"the-f2e-chat-room.appspot.com",messagingSenderId:"609002500238",appId:"1:609002500238:web:c9542f54b618a18d"});r["initializeApp"](o);var a=r["database"]();n["a"]=a},e332:function(e,n,t){}});
//# sourceMappingURL=app.aa3da34c.js.map